<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to use &mdash; VexiiRiscv  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/gh-fork-ribbon.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/vexiiriscv.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/logo3_32x32.png"/>
    <link rel="canonical" href="https://spinalhdl.github.io/VexiiRiscv-RTD/master/VexiiRiscv/HowToUse/index.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js"></script>
        <script src="../../_static/dialog.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Self Contained Tutorial" href="../Tutorial/index.html" />
    <link rel="prev" title="Introduction" href="../Introduction/index.html" />
     
    <!-- source/_templates/layout.html -->
    
    
    

</head>

<body class="wy-body-for-nav">
     
    
    
    
    <div class="div-svg-github-corner github-corner-abs">
    <a href="https://github.com/SpinalHDL/VexiiRiscv-RTD/blob/master/source/VexiiRiscv/HowToUse/index.rst" class="github-corner github-fork-ribbon" aria-label="Edit on GitHub" data-ribbon="Edit on GitHub" title="Edit on GitHub">
      <object id="svg-github-corner" data="../../_static/github-corner-right.svg" class="svg-github-corner github-corner-abs" width="80" height="80"></object>
    </a>
    </div>
    
    
    

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VexiiRiscv
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#other-doc-media-talks">Other doc / media / talks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#technicalities">Technicalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#navigating-the-code">Navigating the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#about-risc-v">About RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#about-vexriscv-not-vexiiriscv">About VexRiscv (not VexiiRiscv)</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#environment-dependencies">Environment (Dependencies)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#docker-container">Docker Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-dependencies">Setup dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repo-setup">Repo setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#generate-verilog">Generate verilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-a-simulation">Run a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#synthesis">Synthesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#other-resources">Other resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-intellij-idea">Using IntelliJ IDEA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-konata">Using Konata</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorial/index.html">Self Contained Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorial/index.html#tooling">Tooling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorial/index.html#assembler">Assembler</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#looking-at-examples">Looking at examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#write-the-assembler-code">Write the assembler code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#build-the-assembler-code">Build the assembler Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#initial-run-error">Initial run (Error)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#fixing-the-error">Fixing the Error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#the-assembler-hello-world">The assembler &quot;hello world&quot;</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#looking-at-the-pipeline">Looking at the pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#enabling-branch-prediction">Enabling branch prediction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#looking-at-the-waveform">Looking at the waveform</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#introducing-a-bug">Introducing a bug</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#experimenting-with-privilege-levels">Experimenting with privilege levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#connecting-with-openocd-to-the-simulation">Connecting with openocd to the simulation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorial/index.html#c-code-hello-world-literally">C code &quot;hello world&quot; (literally)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#write-the-c-code">Write the C code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#compiling-the-code">Compiling the Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#compilation-error">Compilation error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#running-the-code">Running the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Tutorial/index.html#reading-a-csr">Reading a CSR</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Docker/index.html">Ready made Docker environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#linux-and-macos-x">Linux and MacOS X</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#windows">Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#generating-the-verilog">Generating the verilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#running-a-simulation">Running a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#opening-the-traces-with-gtkwave">Opening the traces with GTKWave</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#opening-the-traces-with-konata">Opening the traces with Konata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#opening-intellij-idea">Opening Intellij IDEA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#shutting-down-the-container">Shutting down the Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Docker/index.html#using-the-build-environment">Using the build environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Framework/index.html">Framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#tools-and-api">Tools and API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#scala-spinalhdl">Scala / SpinalHDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#plugin-fiber-retainer">Plugin / Fiber / Retainer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Framework/index.html#simple-all-in-one-example">Simple all-in-one example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Framework/index.html#negotiation-example">Negotiation example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#pipeline-api">Pipeline API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#vexiiriscv-assumptions">VexiiRiscv assumptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Fetch/index.html">Fetch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchpipelineplugin">FetchPipelinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#pcplugin">PcPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchcachelessplugin">FetchCachelessPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchl1plugin">FetchL1Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#prefetchernextlineplugin">PrefetcherNextLinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#btbplugin">BtbPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#gshareplugin">GSharePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#historyplugin">HistoryPlugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Decode/index.html">Decode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#decodepipelineplugin">DecodePipelinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#alignerplugin">AlignerPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#decoderplugin">DecoderPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#dispatchplugin">DispatchPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Decode/index.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Decode/index.html#elaboration">Elaboration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Execute/index.html">Execute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Execute/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/plugins.html">Plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/plugins.html#infrastructures">Infrastructures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#executepipelineplugin">ExecutePipelinePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#executelaneplugin">ExecuteLanePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#regfileplugin">RegFilePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#srcplugin">SrcPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#rsunsignedplugin">RsUnsignedPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#intformatplugin">IntFormatPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#writebackplugin">WriteBackPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#learnplugin">LearnPlugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/plugins.html#instructions">Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#intaluplugin">IntAluPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#barrelshifterplugin">BarrelShifterPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#branchplugin">BranchPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#mulplugin">MulPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#divplugin">DivPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#lsucachelessplugin">LsuCachelessPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#lsuplugin">LsuPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#csraccessplugin">CsrAccessPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#envplugin">EnvPlugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/custom.html">Custom instruction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/custom.html#simd-add">SIMD add</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#plugin-implementation">Plugin implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#vexiiriscv-generation">VexiiRiscv generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#software-test">Software test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#simulation">Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/fpu.html">FPU</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#plugins-architecture">Plugins architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#area-timings-options">Area / Timings options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#optimized-software">Optimized software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BranchPrediction/index.html">Branch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#btbplugin">BtbPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#gshareplugin">GSharePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#decodeplugin">DecodePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#branchplugin">BranchPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#learnplugin">LearnPlugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Memory/index.html">LSU / Memory</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Memory/index.html#without-l1">Without L1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Memory/index.html#with-l1">With L1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#prefetching">Prefetching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#prefetchrptplugin">PrefetchRptPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#performance-measurements">performance measurements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#hardware-memory-coherency">Hardware Memory coherency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#atomic-memory-operation">Atomic Memory Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#load-reserve-store-conditional">Load Reserve / Store Conditional</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#memory-system">Memory system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#why-tilelink">Why Tilelink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#efficiency-cookbook">Efficiency cookbook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Privileges/index.html">Privileges</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Privileges/index.html#csraccessplugin">CsrAccessPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#privilegedplugin">PrivilegedPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#csrramplugin">CsrRamPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#trapplugin">TrapPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#performancecounterplugin">PerformanceCounterPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#envplugin">EnvPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#mmuplugin">MmuPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#pmpplugin">PmpPlugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Debug/index.html">Debug support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Debug/index.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Debug/index.html#embeddedriscvjtag">EmbeddedRiscvJtag</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Performance/index.html">Performance / Area / FMax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Performance/index.html#tuning">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Performance/index.html#critical-paths-tool">Critical paths tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Soc/index.html">SoC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Soc/microsoc.html">MicroSoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#verilog-generation">Verilog generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#simulation-spinalsim-verilator">Simulation (SpinalSim / Verilator)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#compiling-and-running-c-c-with-cmake">Compiling and running C/C++ with CMake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#adding-a-custom-peripheral">Adding a custom peripheral</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#exporting-an-apb3-bus-to-the-toplevel">Exporting an APB3 bus to the toplevel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#adding-a-custom-instruction">Adding a custom instruction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Soc/litex.html">Litex</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VexiiRiscv</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">How to use</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/SpinalHDL/VexiiRiscv-RTD/blob/master/source/VexiiRiscv/HowToUse/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             <dialog id="doc-dialog-version" role="dialog" class="collapse-once" aria-modal="false" data-default-state="close" data-current-version="master" data-latest-version="master">
<p class="doc-version-warning-banner">
  <strong>
    
    You're reading an pre-release version of this documentation.<br/>
    For the latest stable release version, please have a look at <a href="index.html">master</a>.
    
  </strong>
  <div>
    <form>
      <button formmethod="dialog" type="submit" class="doc-dialog-dismiss" aria-label="close">Dismiss</button>
    </form>
  </div>
</p>
</dialog>




  <section id="how-to-use">
<h1>How to use<a class="headerlink" href="#how-to-use" title="Permalink to this heading"></a></h1>
<p>For getting started you have two options.</p>
<p>Either you compile it from scratch or you use our Docker container which provides all the dependencies readily installed.</p>
<section id="environment-dependencies">
<h2>Environment (Dependencies)<a class="headerlink" href="#environment-dependencies" title="Permalink to this heading"></a></h2>
<p>You will need :</p>
<ul class="simple">
<li><p>A java JDK</p></li>
<li><p>SBT (Scala build tool)</p></li>
<li><p>Verilator (optional, for simulations)</p></li>
<li><p>RVLS / Spike dependencies (optional, if you want to have lock-step simulations checking)</p></li>
<li><p>GCC for RISC-V (optional, if you want to compile some code)</p></li>
</ul>
<section id="docker-container">
<h3>Docker Container<a class="headerlink" href="#docker-container" title="Permalink to this heading"></a></h3>
<p>Probably the easiest way to get started:</p>
<p>Simply run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./run_docker.sh
</pre></div>
</div>
<p>Refer to the chapter about the ready made Docker container, in order to get a step by step
guide on how to get started with the XFCE4 desktop and the tools provided in the installation.</p>
</section>
<section id="setup-dependencies">
<h3>Setup dependencies<a class="headerlink" href="#setup-dependencies" title="Permalink to this heading"></a></h3>
<p>Setting the tools up locally on your machine is a bit more work than just starting a Docker
container, but speeds up things a lot because there's no virtual environment anymore.</p>
<p><strong>For Windows Users</strong>
In order to build RISC-V 64 toolchain you require GCC, so you will have to download Cygwin: <a class="reference external" href="https://www.cygwin.com">https://www.cygwin.com</a></p>
<p>You should be able to install the latest GCC, as well as GIT for cloning repositories following this article:
<a class="reference external" href="https://preshing.com/20141108/how-to-install-the-latest-gcc-on-windows">https://preshing.com/20141108/how-to-install-the-latest-gcc-on-windows</a></p>
<p><strong>For Linux and Mac users</strong>
You can get the RISC-V toolchain directly from</p>
<ul class="simple">
<li><p><strong>Java</strong>
* On Linux, simply install the most recent openjdk-&lt;version available&gt;-jdk, using your package manager.
* On MacOS you can either install openjdk with brew or download it from the official Oracle Java website
* On Windows, you'll have to build <a class="reference external" href="https://www.royvanrijn.com/blog/2013/10/building-openjdk-on-windows">https://www.royvanrijn.com/blog/2013/10/building-openjdk-on-windows</a>) Java yourself within Cygwin</p></li>
<li><p><strong>SBT</strong>
Go to the release page of SBT (<a class="reference external" href="https://github.com/sbt/sbt/releases">https://github.com/sbt/sbt/releases</a>)
Just download the tar xvf the tar file in your home directory and add $HOME/sbt/bin
to your search path (PATH).</p></li>
</ul>
<p><strong>Compiling and installing Verilator</strong></p>
<p>In case the package manager of your platform provides the current Verilator as a precompiled package,
you can just install Verilator with you package manager, like apt-get, zypper or brew install.</p>
<p>In case you're on Windows or an old Debian, you'll have to compile it from the sources yourself, however.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install git make autoconf g++ flex bison help2man
git clone https://github.com/verilator/verilator
unsetenv VERILATOR_ROOT  <span class="c1"># For csh; ignore error if on bash</span>
<span class="nb">unset</span> VERILATOR_ROOT  <span class="c1"># For bash</span>
<span class="nb">cd</span> verilator
git pull        <span class="c1"># Make sure we&#39;re up-to-date</span>
git checkout v4.216 <span class="c1"># You don&#39;t exactly need that version</span>
autoconf        <span class="c1"># Create ./configure script</span>
./configure
make
sudo make install
</pre></div>
</div>
<p><strong>Compiling and installing ELFIO</strong></p>
<p>Some essential headers, you'll have to install yourself on every platform basically.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># RVLS / Spike dependencies (optional, for simulations)</span>
sudo apt-get install device-tree-compiler libboost-all-dev
<span class="c1"># Install ELFIO, used to load elf file in the sim</span>
git clone https://github.com/serge1/ELFIO.git
<span class="nb">cd</span> ELFIO
git checkout d251da09a07dff40af0b63b8f6c8ae71d2d1938d <span class="c1"># Avoid C++17</span>
sudo cp -R elfio /usr/include
<span class="nb">cd</span> .. <span class="o">&amp;&amp;</span> rm -rf ELFIO
</pre></div>
</div>
<p><strong>Compiling and installing the RISC-V toolchain</strong></p>
<p>On MacOS and Windows, at least, you will have to compile the toolchain yourself from scratch
in the terminal of your MacOS or the Cygwin shell alternatively, if you're under Windows</p>
<p>(The make command will automatically make sure to check init and update any submodules needed
for building the toolchain, so no recursive flag is needed. I didn't forget to add it)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/riscv/riscv-gnu-toolchain
<span class="nb">cd</span> riscv-gnu-toolchain
./configure --prefix<span class="o">=</span>/opt/riscv --enable-multilib
make
make install
<span class="nb">echo</span> <span class="s1">&#39;export PATH=/opt/riscv/bin:$PATH&#39;</span> &gt;&gt; ~/.bashrc
</pre></div>
</div>
<p>On GNU/Linux you can alternatively also download the precompiled bundle</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Getting a RISC-V toolchain (optional, if you want to compile RISC-V software)</span>
<span class="nv">version</span><span class="o">=</span>riscv64-unknown-elf-gcc-8.3.0-2019.08.0-x86_64-linux-ubuntu14
wget -O riscv64-unknown-elf-gcc.tar.gz riscv https://static.dev.sifive.com/dev-tools/<span class="nv">$version</span>.tar.gz
tar -xzvf riscv64-unknown-elf-gcc.tar.gz
sudo mv <span class="nv">$version</span> /opt/riscv
<span class="nb">echo</span> <span class="s1">&#39;export PATH=/opt/riscv/bin:$PATH&#39;</span> &gt;&gt; ~/.bashrc
</pre></div>
</div>
</section>
<section id="repo-setup">
<h3>Repo setup<a class="headerlink" href="#repo-setup" title="Permalink to this heading"></a></h3>
<p>After installing the dependencies (see above) :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone --recursive https://github.com/SpinalHDL/VexiiRiscv.git
<span class="nb">cd</span> VexiiRiscv

<span class="c1"># (optional) Compile riscv-isa-sim (spike), used as a golden model during the sim to check the dut behaviour (lock-step)</span>
<span class="nb">cd</span> ext/riscv-isa-sim
mkdir build
<span class="nb">cd</span> build
../configure --prefix<span class="o">=</span><span class="nv">$RISCV</span> --enable-commitlog  --without-boost --without-boost-asio --without-boost-regex
make -j<span class="k">$(</span>nproc<span class="k">)</span>
<span class="nb">cd</span> ../../..

<span class="c1"># (optional) Compile RVLS, (need riscv-isa-sim (spike)</span>
<span class="nb">cd</span> ext/rvls
make -j<span class="k">$(</span>nproc<span class="k">)</span>
<span class="nb">cd</span> ../..
</pre></div>
</div>
</section>
</section>
<section id="generate-verilog">
<h2>Generate verilog<a class="headerlink" href="#generate-verilog" title="Permalink to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt <span class="s2">&quot;Test/runMain vexiiriscv.Generate&quot;</span>
</pre></div>
</div>
<p>You can get a list of the supported parameters via :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt <span class="s2">&quot;Test/runMain vexiiriscv.Generate --help&quot;</span>
 --help                   prints this usage text
 --xlen &lt;value&gt;
 --decoders &lt;value&gt;
 --lanes &lt;value&gt;
 --relaxed-branch
 --relaxed-shift
 --relaxed-src
 --with-mul
 --with-div
 --with-rva
 --with-rvc
 --with-supervisor
 ...
</pre></div>
</div>
<p>Here is a list of the important parameters :</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Generation parameters</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>--xlen=32/64</p></td>
<td><p>Specify the CPU data width (RISC-V XLEN). 32 bits by default, can be set to 64 bits</p></td>
</tr>
<tr class="row-odd"><td><p>--with-rvm</p></td>
<td><p>Enable RISC-V mul/div instruction</p></td>
</tr>
<tr class="row-even"><td><p>--with-rvc</p></td>
<td><p>Enable RISC-V compressed instruction set</p></td>
</tr>
<tr class="row-odd"><td><p>--with-rva</p></td>
<td><p>Enable atomic instruction support</p></td>
</tr>
<tr class="row-even"><td><p>--with-rvf</p></td>
<td><p>Enable 32 bits floating point support</p></td>
</tr>
<tr class="row-odd"><td><p>--with-rvd</p></td>
<td><p>Enable 32/64 bits floating point support</p></td>
</tr>
<tr class="row-even"><td><p>--with-supervisor</p></td>
<td><p>Enable privileged supervisor, user and MMU</p></td>
</tr>
<tr class="row-odd"><td><p>--allow-bypass-from=Int</p></td>
<td><p>Specify from which execute stage the integer result bypassing is allowed. Default disabled. For performance set it to 0</p></td>
</tr>
<tr class="row-even"><td><p>--with-btb</p></td>
<td><p>Enable Branch Target Buffer prediction</p></td>
</tr>
<tr class="row-odd"><td><p>--with-gshare</p></td>
<td><p>Enable GShare conditional branch prediction. (Require the BTB to be enabled)</p></td>
</tr>
<tr class="row-even"><td><p>--with-ras</p></td>
<td><p>Enable Return Address Stack prediction. (Require the BTB to be enabled)</p></td>
</tr>
<tr class="row-odd"><td><p>--regfile-async</p></td>
<td><p>The register read ports become asynchronous, shaving one stage in the pipeline, but not all FPGA support this kind of memories.</p></td>
</tr>
<tr class="row-even"><td><p>--mmu-sync-read</p></td>
<td><p>The MMU TLB memories will be implemented using memories with synchronous read ports. This allows to keep it small on FPGA which doesn't support asynchronous read ports</p></td>
</tr>
<tr class="row-odd"><td><p>--fetch-l1</p></td>
<td><p>Enable the L1 instruction cache</p></td>
</tr>
<tr class="row-even"><td><p>--fetch-l1-ways=Int</p></td>
<td><p>Set the number of instruction cache ways (4KB per way by default)</p></td>
</tr>
<tr class="row-odd"><td><p>--lsu-l1</p></td>
<td><p>Enable the L1 data cache</p></td>
</tr>
<tr class="row-even"><td><p>--lsu-l1-ways=Int</p></td>
<td><p>Set the number of data cache ways (4KB per way by default)</p></td>
</tr>
<tr class="row-odd"><td><p>--with-jtag-tap</p></td>
<td><p>Enable the RISC-V JTAG debugging.</p></td>
</tr>
</tbody>
</table>
<p>There is a lot more parameters which can be turned.</p>
</section>
<section id="run-a-simulation">
<span id="simulation"></span><h2>Run a simulation<a class="headerlink" href="#run-a-simulation" title="Permalink to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>If you take a VexiiRiscv core and use it with a simulator which does x-prop (not verilator), you will need to add the following option : --with-boot-mem-init.
By default this isn't enabled, as it can degrade timings and area while not being necessary for a fully functional hardware.</p>
</div>
<p>Here is how you can run a Verilator based simulation, note that Vexiiriscv use mostly an opt-in configuration. So, most performance related configuration are disabled by default.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt
compile
Test/runMain vexiiriscv.tester.TestBench --with-mul --with-div --load-elf ext/NaxSoftware/baremetal/dhrystone/build/rv32ima/dhrystone.elf --trace-all
</pre></div>
</div>
<p>This will generate a simWorkspace/VexiiRiscv/test folder which contains :</p>
<ul class="simple">
<li><p>test.fst : A wave file which can be open with gtkwave. It shows all the CPU signals</p></li>
<li><p>konata.log : A wave file which can be open with <a class="reference external" href="https://github.com/shioyadan/Konata">https://github.com/shioyadan/Konata</a>, it shows the pipeline behavior of the CPU</p></li>
<li><p>spike.log : The execution logs of Spike (golden model)</p></li>
<li><p>tracer.log : The execution logs of VexRiscv (Simulation model)</p></li>
</ul>
<p>Here is an example of the additional argument you can use to improve the IPC :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>--with-btb --with-gshare --with-ras --decoders <span class="m">2</span> --lanes <span class="m">2</span> --with-aligner-buffer --with-dispatcher-buffer --with-late-alu --regfile-async --allow-bypass-from <span class="m">0</span> --div-radix <span class="m">4</span>
</pre></div>
</div>
<p>Here is a screen shot of a cache-less VexiiRiscv booting linux :</p>
<img alt="../../_images/konata.png" src="../../_images/konata.png" />
</section>
<section id="synthesis">
<h2>Synthesis<a class="headerlink" href="#synthesis" title="Permalink to this heading"></a></h2>
<p>VexiiRiscv is designed in a way which should make it easy to deploy on all FPGA.
including the ones without support for asynchronous memory read
(LUT ram / distributed ram / MLAB).
The one exception is the MMU, but if configured to only read the memory on cycle 0
(no tag hit), then the synthesis tool should be capable of inferring that asynchronous
read into a synchronous one (RAM block, work on Efinix FPGA)</p>
<p>By default SpinalHDL will generate memories in a Verilog/VHDL synthetisable way.
Otherwise, for ASIC, you likely want to enable the automatic memory blackboxing,
which will instead replace all memories defined in the design by a consistent blackbox
module/component, the user having then to provide those blackbox implementation.</p>
<p>Currently all memories used are &quot;simple dual port ram&quot;. While this is the best for FPGA usages,
on ASIC maybe some of those could be redesigned to be single port rams instead (todo).</p>
</section>
<section id="other-resources">
<h2>Other resources<a class="headerlink" href="#other-resources" title="Permalink to this heading"></a></h2>
<p>There a few other ways to start using VexiiRiscv :</p>
<ul class="simple">
<li><p>Trough the MicroSoc reference design, a little microcontroller for FPGA (<a class="reference internal" href="../Soc/microsoc.html#microsoc"><span class="std std-ref">MicroSoc</span></a>)</p></li>
<li><p>Through Litex, a tool to build SoC w(<a class="reference internal" href="../Soc/litex.html#litex"><span class="std std-ref">Litex</span></a>)</p></li>
</ul>
</section>
<section id="using-intellij-idea">
<h2>Using IntelliJ IDEA<a class="headerlink" href="#using-intellij-idea" title="Permalink to this heading"></a></h2>
<p>IntelliJ IDEA is a Java/Scala IDE which can help a lot navigating the codebase. You can get its community edition for free.
Then you just need to install the scala plugin (asked the first time you run the IDE), and open the VexiiRiscv folder with it.
(See the screenshots in the Ready To Use Docker guide)</p>
<section id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this heading"></a></h3>
<p>To download IntelliJ IDEA, got to <a class="reference external" href="https://www.jetbrains.com/idea/download">https://www.jetbrains.com/idea/download</a>, select your platform, which is either Mac, Windows or Linux,
and make sure to scroll all the way down to the community edition, so that you don't download the 30 days limited trial Ultimate edition
instead accidentally.</p>
<p>We have this script for building the Docker image, which does the downloading, unpacking and installing, all by itself:
<a class="reference external" href="https://github.com/SpinalHDL/VexiiRiscv/blob/dev/docker/setup_intellij.sh">https://github.com/SpinalHDL/VexiiRiscv/blob/dev/docker/setup_intellij.sh</a></p>
</section>
<section id="known-issues">
<h3>Known issues<a class="headerlink" href="#known-issues" title="Permalink to this heading"></a></h3>
<p>The one issue is that it has a bug, and will give you a :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">object</span> <span class="n">Info</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">member</span> <span class="n">of</span> <span class="n">package</span> <span class="n">spinal</span><span class="o">.</span><span class="n">core</span>
</pre></div>
</div>
<p>The workaround is that you need to run the &quot;sbt compile&quot; command in a terminal in the VexiiRiscv folder once.</p>
</section>
</section>
<section id="using-konata">
<h2>Using Konata<a class="headerlink" href="#using-konata" title="Permalink to this heading"></a></h2>
<p>Konata is a Node JS application started with Electron, so you will have to install npm with your package manager of your system.</p>
<p>You can setup and start Konata by cloning it and using npm</p>
<p>The make command will execute npm electron ., which will open the Konata window</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/shioyadan/konata.git
<span class="nb">cd</span> konata
npm install
make
</pre></div>
</div>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../Introduction/index.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Tutorial/index.html" class="btn btn-neutral float-right" title="Self Contained Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2025, VexiiRiscv.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
    <!-- source/_templates/footer.html -->
    
    <div class="doc-footer-current-version"><p>
    Version: master git~9f7528f 2025-01-07
    </p></div>
    


</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
       <dt>Languages</dt>
       <dd class="rtd-current-item">
         <a href="#">en</a>
       </dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="index.html">master</a></dd>
    </dl>
    <dl>
      <dt>Downloads</dt>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master.">HTML</a></dd>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master-SingleHTML.zip">SingleHTML</a></dd>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master.pdf">PDF</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>