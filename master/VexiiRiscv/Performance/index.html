<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Performance / Area / FMax &mdash; VexiiRiscv  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/gh-fork-ribbon.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/vexiiriscv.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/logo3_32x32.png"/>
    <link rel="canonical" href="https://spinalhdl.github.io/VexiiRiscv-RTD/master/VexiiRiscv/Performance/index.html" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js"></script>
        <script src="../../_static/dialog.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SoC" href="../Soc/index.html" />
    <link rel="prev" title="How to use" href="../HowToUse/index.html" />
     
    <!-- source/_templates/layout.html -->
    
    
    

</head>

<body class="wy-body-for-nav">
     
    
    
    
    <div class="div-svg-github-corner github-corner-abs">
    <a href="https://github.com/SpinalHDL/VexiiRiscv-RTD/blob/master/source/VexiiRiscv/Performance/index.rst" class="github-corner github-fork-ribbon" aria-label="Edit on GitHub" data-ribbon="Edit on GitHub" title="Edit on GitHub">
      <object id="svg-github-corner" data="../../_static/github-corner-right.svg" class="svg-github-corner github-corner-abs" width="80" height="80"></object>
    </a>
    </div>
    
    
    

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            VexiiRiscv
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Introduction/index.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#other-doc-media-talks">Other doc / media / talks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#technicalities">Technicalities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#navigating-the-code">Navigating the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#about-risc-v">About RISC-V</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#about-vexriscv-not-vexiiriscv">About VexRiscv (not VexiiRiscv)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Introduction/index.html#check-list">Check list</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Framework/index.html">Framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#tools-and-api">Tools and API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#scala-spinalhdl">Scala / SpinalHDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#plugin-fiber-retainer">Plugin / Fiber / Retainer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Framework/index.html#simple-all-in-one-example">Simple all-in-one example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Framework/index.html#negotiation-example">Negotiation example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Framework/index.html#pipeline-api">Pipeline API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Fetch/index.html">Fetch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchpipelineplugin">FetchPipelinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#pcplugin">PcPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchcachelessplugin">FetchCachelessPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#fetchl1plugin">FetchL1Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#prefetchernextlineplugin">PrefetcherNextLinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#btbplugin">BtbPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#gshareplugin">GSharePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Fetch/index.html#historyplugin">HistoryPlugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Decode/index.html">Decode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#decodepipelineplugin">DecodePipelinePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#alignerplugin">AlignerPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#decoderplugin">DecoderPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Decode/index.html#dispatchplugin">DispatchPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Decode/index.html#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Decode/index.html#elaboration">Elaboration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Execute/index.html">Execute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Execute/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/plugins.html">Plugins</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/plugins.html#infrastructures">Infrastructures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#executepipelineplugin">ExecutePipelinePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#executelaneplugin">ExecuteLanePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#regfileplugin">RegFilePlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#srcplugin">SrcPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#rsunsignedplugin">RsUnsignedPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#intformatplugin">IntFormatPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#writebackplugin">WriteBackPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#learnplugin">LearnPlugin</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/plugins.html#instructions">Instructions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#intaluplugin">IntAluPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#barrelshifterplugin">BarrelShifterPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#branchplugin">BranchPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#mulplugin">MulPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#divplugin">DivPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#lsucachelessplugin">LsuCachelessPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#lsuplugin">LsuPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#csraccessplugin">CsrAccessPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/plugins.html#envplugin">EnvPlugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/custom.html">Custom instruction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/custom.html#simd-add">SIMD add</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#plugin-implementation">Plugin implementation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#vexiiriscv-generation">VexiiRiscv generation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#software-test">Software test</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#simulation">Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Execute/custom.html#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Execute/fpu.html">FPU</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#plugins-architecture">Plugins architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#area-timings-options">Area / Timings options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Execute/fpu.html#optimized-software">Optimized software</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../BranchPrediction/index.html">Branch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#btbplugin">BtbPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#gshareplugin">GSharePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#decodeplugin">DecodePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#branchplugin">BranchPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../BranchPrediction/index.html#learnplugin">LearnPlugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Memory/index.html">Memory (LSU)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Memory/index.html#without-l1">Without L1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Memory/index.html#with-l1">With L1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#prefetching">Prefetching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#prefetchrptplugin">PrefetchRptPlugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#performance-measurements">performance measurements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#hardware-memory-coherency">Hardware Memory coherency</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Memory/index.html#memory-system">Memory system</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#why-tilelink">Why Tilelink</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Memory/index.html#efficiency-cookbook">Efficiency cookbook</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Privileges/index.html">Privileges</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Privileges/index.html#csraccessplugin">CsrAccessPlugin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#privilegedplugin">PrivilegedPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#csrramplugin">CsrRamPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#trapplugin">TrapPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#performancecounterplugin">PerformanceCounterPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#envplugin">EnvPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#mmuplugin">MmuPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Privileges/index.html#pmpplugin">PmpPlugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Debug/index.html">Debug support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Debug/index.html#architecture">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Debug/index.html#embeddedriscvjtag">EmbeddedRiscvJtag</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../HowToUse/index.html">How to use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#repo-setup">Repo setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#generate-verilog">Generate verilog</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#run-a-simulation">Run a simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#synthesis">Synthesis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#other-resources">Other resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../HowToUse/index.html#using-intellij-idea">Using IntelliJ IDEA</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Performance / Area / FMax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tuning">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#critical-paths-tool">Critical paths tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Soc/index.html">SoC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Soc/microsoc.html">MicroSoc</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#verilog-generation">Verilog generation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#simulation-spinalsim-verilator">Simulation (SpinalSim / Verilator)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#adding-a-custom-peripheral">Adding a custom peripheral</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#exporting-an-apb3-bus-to-the-toplevel">Exporting an APB3 bus to the toplevel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Soc/microsoc.html#adding-a-custom-instruction">Adding a custom instruction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Soc/litex.html">Litex</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">VexiiRiscv</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Performance / Area / FMax</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/SpinalHDL/VexiiRiscv-RTD/blob/master/source/VexiiRiscv/Performance/index.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             <dialog id="doc-dialog-version" role="dialog" class="collapse-once" aria-modal="false" data-default-state="close" data-current-version="master" data-latest-version="master">
<p class="doc-version-warning-banner">
  <strong>
    
    You're reading an pre-release version of this documentation.<br/>
    For the latest stable release version, please have a look at <a href="index.html">master</a>.
    
  </strong>
  <div>
    <form>
      <button formmethod="dialog" type="submit" class="doc-dialog-dismiss" aria-label="close">Dismiss</button>
    </form>
  </div>
</p>
</dialog>




  <section id="performance-area-fmax">
<h1>Performance / Area / FMax<a class="headerlink" href="#performance-area-fmax" title="Permalink to this heading"></a></h1>
<p>It is still very early in the development, but here are some metrics :</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>Max IPC</p></td>
</tr>
<tr class="row-even"><td><p>Issue</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>Late ALU</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>BTB / RAS</p></td>
<td><p>512 / 4</p></td>
</tr>
<tr class="row-odd"><td><p>GShare</p></td>
<td><p>4KB</p></td>
</tr>
<tr class="row-even"><td><p>Drystone/MHz</p></td>
<td><p>2.50</p></td>
</tr>
<tr class="row-odd"><td><p>Coremark/MHz</p></td>
<td><p>5.24</p></td>
</tr>
<tr class="row-even"><td><p>EmBench</p></td>
<td><p>1.62</p></td>
</tr>
</tbody>
</table>
<p>It is too early for area / fmax metric, there is a lot of design space exploration to do which will trade IPC against FMax / Area.</p>
<p>Here are a few synthesis results :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>! Note !
Those results are with the best speed grade of each family
In practice, depending what board/FPGA you use, it is common for them to have worst speed grade.
Also, concerning the area usage, those numbers are a bit inflated because :
- The SDC constraint stress the timings =&gt; Synthesis use more logic to improve the timings
- The inputs/outputs of the design are serialized/deserialized (ff+logic cost) to reduce the pin count

rv32i_noBypass -&gt;
- 0.78 Dhrystone/MHz 0.60 Coremark/MHz
- Artix 7    -&gt; 210 Mhz 1182 LUT 1759 FF
- Cyclone V  -&gt; 159 Mhz 1,015 ALMs
- Cyclone IV -&gt; 130 Mhz 1,987 LUT 2,017 FF
- Trion      -&gt; 94 Mhz LUT 1847   FF 1990
- Titanium   -&gt; 320 Mhz LUT 2005   FF 2030

rv32i -&gt;
- 1.12 Dhrystone/MHz 0.87 Coremark/MHz
- Artix 7    -&gt; 206 Mhz 1413 LUT 1761 FF
- Cyclone V  -&gt; 138 Mhz 1,244 ALMs
- Cyclone IV -&gt; 124 Mhz 2,188 LUT 2,019 FF
- Trion      -&gt; 78 Mhz LUT 2252   FF 1962
- Titanium   -&gt; 300 Mhz LUT 2347   FF 2000

rv64i -&gt;
- 1.18 Dhrystone/MHz 0.77 Coremark/MHz
- Artix 7    -&gt; 186 Mhz 2157 LUT 2332 FF
- Cyclone V  -&gt; 117 Mhz 1,760 ALMs
- Cyclone IV -&gt; 113 Mhz 3,432 LUT 2,770 FF
- Trion      -&gt; 83 Mhz LUT 3883   FF 2681
- Titanium   -&gt; 278 Mhz LUT 3909   FF 2783

rv32im -&gt;
- 1.20 Dhrystone/MHz 2.70 Coremark/MHz
- Artix 7    -&gt; 190 Mhz 1815 LUT 2078 FF
- Cyclone V  -&gt; 131 Mhz 1,474 ALMs
- Cyclone IV -&gt; 125 Mhz 2,781 LUT 2,266 FF
- Trion      -&gt; 83 Mhz LUT 2643   FF 2209
- Titanium   -&gt; 324 Mhz LUT 2685   FF 2279

rv32im_branchPredict -&gt;
- 1.45 Dhrystone/MHz 2.99 Coremark/MHz
- Artix 7    -&gt; 195 Mhz 2066 LUT 2438 FF
- Cyclone V  -&gt; 136 Mhz 1,648 ALMs
- Cyclone IV -&gt; 117 Mhz 3,093 LUT 2,597 FF
- Trion      -&gt; 86 Mhz LUT 2963   FF 2568
- Titanium   -&gt; 327 Mhz LUT 3015   FF 2636

rv32im_branchPredict_cached8k8k -&gt;
- 1.45 Dhrystone/MHz 2.97 Coremark/MHz
- Artix 7    -&gt; 210 Mhz 2721 LUT 3477 FF
- Cyclone V  -&gt; 137 Mhz 1,953 ALMs
- Cyclone IV -&gt; 127 Mhz 3,648 LUT 3,153 FF
- Trion      -&gt; 93 Mhz LUT 3388   FF 3204
- Titanium   -&gt; 314 Mhz LUT 3432   FF 3274

rv32imasu_cached_branchPredict_cached8k8k_linux -&gt;
- 1.45 Dhrystone/MHz 2.96 Coremark/MHz
- Artix 7    -&gt; 199 Mhz 3351 LUT 3833 FF
- Cyclone V  -&gt; 131 Mhz 2,612 ALMs
- Cyclone IV -&gt; 109 Mhz 4,909 LUT 3,897 FF
- Trion      -&gt; 73 Mhz LUT 4367   FF 3613
- Titanium   -&gt; 270 Mhz LUT 4409   FF 3724

rv32im_branchPredictStressed_cached8k8k_ipcMax_lateAlu -&gt;
- 1.74 Dhrystone/MHz 3.41 Coremark/MHz
- Artix 7    -&gt; 140 Mhz 3247 LUT 3755 FF
- Cyclone V  -&gt; 99 Mhz 2,477 ALMs
- Cyclone IV -&gt; 85 Mhz 4,835 LUT 3,765 FF
- Trion      -&gt; 60 Mhz LUT 4438   FF 3832
- Titanium   -&gt; 228 Mhz LUT 4459   FF 3963
</pre></div>
</div>
<section id="tuning">
<h2>Tuning<a class="headerlink" href="#tuning" title="Permalink to this heading"></a></h2>
<p>VexiiRiscv can scale a lot in function of its plugins/parameters. It can scale from simple microcontroller
(ex M0) up to an application processor (A53),</p>
<p>On FPGA there is a few options which can be key in order to scale up the IPC while preserving the FMax :</p>
<ul class="simple">
<li><p>--relaxed-btb : When the BTB is enabled, by default it is implemented as a single cycle predictor,
This can be easily be the first critical path to appear.
This option make the BTB implementation spread over 2 cycles,
which relax the timings at the cost of 1 cycle penalty on every successful branch predictions.</p></li>
<li><p>--relaxed-branch : By default, the BranchPlugin will flush/setPc in the same stage
than its own ALU. This is good for IPC but can easily be a critical path.
This option will add one cycle latency between the ALU and the side effects (flush/setPc)
in order to improve timings.
If you enabled the branch prediction, then the impact on the IPC should be quite low.</p></li>
<li><p>--fma-reduced-accuracy and --fpu-ignore-subnormal both reduce and can improve the fmax
at the cost of accuracy</p></li>
<li><p>--fetch-fork-at=1 : If you don't have a instruction cache, this option will significantly relax the
timings of the instruction fetch bus. With this option, instead of connecting the fetch bus to the first stage of the
fetch pipeline (address generation stage), it will connect it to the stage after.</p></li>
<li><p>--lsu-fork-at=1 --lsu-pma-at : If you don't have a data cache, this option will relax the LSU memory bus command channel
by pushing everything down one stage before forking requests to the memory system.</p></li>
</ul>
</section>
<section id="critical-paths-tool">
<h2>Critical paths tool<a class="headerlink" href="#critical-paths-tool" title="Permalink to this heading"></a></h2>
<p>At the end of your synthesis/place/route tools, you get a critical path report where hopefully, the source and destination registers are well named.
The issue is that in between, all the combinatorial logic and signals names become unrecognizable or misleading most of the time.
Also, in CPU design, it can quite easily happen that some combinatorial path &quot;leak&quot; through the pipeline, degrading the FMax quite a bit !</p>
<p>So there is a tool you can use in SpinalHDL to provide you a &quot;clean&quot; combinatorial path report between 2 signals of a design.
Here is an example how you can use it in VexiiRiscv :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sbt<span class="w"> </span><span class="s2">&quot;Test/runMain vexiiriscv.Generate --stressed-src --allow-bypass-from=0 --analyse-path from=execute_ctrl2_up_integer_RS1_lane0,to=execute_ctrl1_down_integer_RS1_lane0&quot;</span>
</pre></div>
</div>
<p>This will report you the various paths from execute_ctrl2_up_integer_RS1_lane0 to execute_ctrl1_down_integer_RS1_lane0.</p>
<p>Here is one of the path reported, which goes through RS1 -&gt; SrcPlugin -&gt; BarrelShifterPlugin -&gt; IntFormatPlugin -&gt; WriteBackPlugin -&gt; RS1 bypass -&gt; RS1 :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>- (toplevel/execute_ctrl2_up_integer_RS1_lane0 :  Bits[32 bits])
- (Bits -&gt; SInt of 32 bits)
- (toplevel/_zz_execute_ctrl2_down_early0_SrcPlugin_SRC1_lane0 :  SInt[32 bits])
- (toplevel/execute_ctrl2_down_early0_SrcPlugin_SRC1_lane0 :  SInt[32 bits])
- (Bool ? Bits | Bits)[32 bits]
- (toplevel/early0_BarrelShifterPlugin_logic_shift_reversed :  SInt[32 bits])
- (SInt -&gt; Bits of 32 bits)
- Bits ## Bits
- (Bits -&gt; SInt of 33 bits)
- (SInt &gt;&gt; UInt)[33 bits]
- resize(SInt,32 bits)
- (toplevel/early0_BarrelShifterPlugin_logic_shift_shifted :  SInt[32 bits])
- (Bool ? Bits | Bits)[32 bits]
- (toplevel/early0_BarrelShifterPlugin_logic_shift_patched :  SInt[32 bits])
- (SInt -&gt; Bits of 32 bits)
- (toplevel/execute_ctrl2_down_early0_BarrelShifterPlugin_SHIFT_RESULT_lane0 :  Bits[32 bits])
- (toplevel/early0_BarrelShifterPlugin_logic_wb_payload :  Bits[32 bits])
- (Bool ? Bits | Bits)[32 bits]
- (Bits | Bits)[32 bits]
- (toplevel/lane0_IntFormatPlugin_logic_stages_0_raw :  Bits[32 bits])
- (toplevel/lane0_IntFormatPlugin_logic_stages_0_wb_payload :  Bits[32 bits])
- (Bool ? Bits | Bits)[32 bits]
- (Bits | Bits)[32 bits]
- (toplevel/lane0_integer_WriteBackPlugin_logic_stages_0_muxed :  Bits[32 bits])
- (toplevel/execute_ctrl2_lane0_integer_WriteBackPlugin_logic_DATA_lane0_bypass :  Bits[32 bits])
- (toplevel/execute_ctrl2_down_lane0_integer_WriteBackPlugin_logic_DATA_lane0 :  Bits[32 bits])
- (toplevel/_zz_execute_ctrl1_down_integer_RS1_lane0_1 :  Bits[32 bits])
- (toplevel/execute_ctrl1_down_integer_RS1_lane0 :  Bits[32 bits])
</pre></div>
</div>
<p>And there is the reported list of all named signal used by any of the paths :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">_zz_execute_ctrl1_down_integer_RS1_lane0_1</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">_zz_execute_ctrl2_down_early0_SrcPlugin_SRC1_lane0</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_BarrelShifterPlugin_logic_shift_patched</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_BarrelShifterPlugin_logic_shift_reversed</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_BarrelShifterPlugin_logic_shift_shifted</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_BarrelShifterPlugin_logic_wb_payload</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_IntAluPlugin_logic_alu_bitwise</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_IntAluPlugin_logic_alu_result</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">early0_IntAluPlugin_logic_wb_payload</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl1_down_integer_RS1_lane0</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_early0_BarrelShifterPlugin_SHIFT_RESULT_lane0</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_early0_IntAluPlugin_ALU_RESULT_lane0</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_early0_SrcPlugin_ADD_SUB_lane0</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_early0_SrcPlugin_LESS_lane0</span> <span class="p">:</span>  <span class="n">Bool</span><span class="p">)</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_early0_SrcPlugin_SRC1_lane0</span> <span class="p">:</span>  <span class="n">SInt</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_down_lane0_integer_WriteBackPlugin_logic_DATA_lane0</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_lane0_integer_WriteBackPlugin_logic_DATA_lane0_bypass</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">execute_ctrl2_up_integer_RS1_lane0</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">lane0_IntFormatPlugin_logic_stages_0_raw</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">lane0_IntFormatPlugin_logic_stages_0_wb_payload</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
<span class="o">-</span> <span class="p">(</span><span class="n">toplevel</span><span class="o">/</span><span class="n">lane0_integer_WriteBackPlugin_logic_stages_0_muxed</span> <span class="p">:</span>  <span class="n">Bits</span><span class="p">[</span><span class="mi">32</span> <span class="n">bits</span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>

    <script type="text/javascript">
        function init() {
            WaveDrom.ProcessAll();
        }
        window.onload = init;
    </script>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../HowToUse/index.html" class="btn btn-neutral float-left" title="How to use" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../Soc/index.html" class="btn btn-neutral float-right" title="SoC" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2024, VexiiRiscv.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
    <!-- source/_templates/footer.html -->
    
    <div class="doc-footer-current-version"><p>
    Version: master git~20f99b5 2024-11-26
    </p></div>
    


</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
       <dt>Languages</dt>
       <dd class="rtd-current-item">
         <a href="#">en</a>
       </dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="index.html">master</a></dd>
    </dl>
    <dl>
      <dt>Downloads</dt>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master.">HTML</a></dd>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master-SingleHTML.zip">SingleHTML</a></dd>
      <dd><a href="../../artefacts/VexiiRiscv_docs-master.pdf">PDF</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>